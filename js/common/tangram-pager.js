/* Copyright (c) 2010 Baidu  Licensed under the BSD License */
var T,baidu=T=baidu||{version:"1.3.9"};baidu.guid="$BAIDU$";window[baidu.guid]=window[baidu.guid]||{};baidu.ui=baidu.ui||{version:"1.3.9"};baidu.ui.getUI=function(c){var c=c.split("-"),b=baidu.ui,a=c.length,d=0;for(;d<a;d++){b=b[c[d].charAt(0).toUpperCase()+c[d].slice(1)]}return b};baidu.lang=baidu.lang||{};baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.isString=baidu.lang.isString;baidu.ui.create=function(b,a){if(baidu.lang.isString(b)){b=baidu.ui.getUI(b)}return new b(a)};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a&&a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.g=baidu.G=baidu.dom.g;(function(){var a=window[baidu.guid];baidu.lang.guid=function(){return"TANGRAM__"+(a._counter++).toString(36)};a._counter=a._counter||1})();window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.lang.Class=function(a){this.guid=a||baidu.lang.guid();window[baidu.guid]._instances[this.guid]=this};window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.Class.prototype.dispose=function(){delete window[baidu.guid]._instances[this.guid];for(var a in this){if(!baidu.lang.isFunction(this[a])){delete this[a]}}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.addEventListener=function(d,c,b){if(!baidu.lang.isFunction(c)){return}!this.__listeners&&(this.__listeners={});var a=this.__listeners,e;if(typeof b=="string"&&b){if(/[^\w\-]/.test(b)){throw ("nonstandard key:"+b)}else{c.hashCode=b;e=b}}d.indexOf("on")!=0&&(d="on"+d);typeof a[d]!="object"&&(a[d]={});e=e||baidu.lang.guid();c.hashCode=e;a[d][e]=c};baidu.lang.Class.prototype.removeEventListener=function(d,c){if(typeof c!="undefined"){if((baidu.lang.isFunction(c)&&!(c=c.hashCode))||(!baidu.lang.isString(c))){return}}!this.__listeners&&(this.__listeners={});d.indexOf("on")!=0&&(d="on"+d);var b=this.__listeners;if(!b[d]){return}if(typeof c!="undefined"){b[d][c]&&delete b[d][c]}else{for(var a in b[d]){delete b[d][a]}}};baidu.lang.Class.prototype.dispatchEvent=function(d,a){if(baidu.lang.isString(d)){d=new baidu.lang.Event(d)}!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){d[c]=a[c]}var c,b=this.__listeners,e=d.type;d.target=d.target||this;d.currentTarget=this;e.indexOf("on")!=0&&(e="on"+e);baidu.lang.isFunction(this[e])&&this[e].apply(this,arguments);if(typeof b[e]=="object"){for(c in b[e]){b[e][c].apply(this,arguments)}}return d.returnValue};baidu.event=baidu.event||{};baidu.event._listeners=baidu.event._listeners||[];baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a)}return a};baidu._g=baidu.dom._g;baidu.event.on=function(b,e,g){e=e.replace(/^on/i,"");b=baidu.dom._g(b);var f=function(i){g.call(b,i)},a=baidu.event._listeners,d=baidu.event._eventFilter,h,c=e;e=e.toLowerCase();if(d&&d[e]){h=d[e](b,e,f);c=h.type;f=h.listener}if(b.addEventListener){b.addEventListener(c,f,false)}else{if(b.attachEvent){b.attachEvent("on"+c,f)}}a[a.length]=[b,e,g,f,c];return b};baidu.on=baidu.event.on;baidu.event.un=function(c,f,b){c=baidu.dom._g(c);f=f.replace(/^on/i,"").toLowerCase();var i=baidu.event._listeners,d=i.length,e=!b,h,g,a;while(d--){h=i[d];if(h[1]===f&&h[0]===c&&(e||h[2]===b)){g=h[4];a=h[3];if(c.removeEventListener){c.removeEventListener(g,a,false)}else{if(c.detachEvent){c.detachEvent("on"+g,a)}}i.splice(d,1)}}return c};baidu.un=baidu.event.un;baidu.ui.Base={id:"",getId:function(a){var c=this,b;b="tangram-"+c.uiType+"--"+(c.id?c.id:c.guid);return a?b+"-"+a:b},getClass:function(b){var d=this,c=d.classPrefix,a=d.skin;if(b){c+="-"+b;a+="-"+b}if(d.skin){c+=" "+a}return c},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(d){var c=0,b=Array.prototype.slice.call(arguments,1),a=b.length;for(;c<a;c++){if(typeof b[c]=="string"){b[c]="'"+b[c]+"'"}}return this.getCallRef()+"."+d+"("+b.join(",")+");"},on:function(a,b,c){baidu.on(a,b,c);this.addEventListener("ondispose",function(){baidu.un(a,b,c)})},renderMain:function(b){var d=this,c=0,a;if(d.getMain()){return}b=baidu.g(b);if(!b){b=document.createElement("div");document.body.appendChild(b);b.style.position="absolute";b.className=d.getClass("main")}if(!b.id){b.id=d.getId("main")}d.mainId=b.id;b.setAttribute("data-guid",d.guid);return b},dispose:function(){this.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(this)}};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.ui.createUI=function(c,j){j=j||{};var g=j.superClass||baidu.lang.Class,f=g==baidu.lang.Class?1:0,d,b,h=function(k,i){var l=this;k=k||{};g.call(l,!f?k:(k.guid||""),true);baidu.object.extend(l,h.options);baidu.object.extend(l,k);l.classPrefix=l.classPrefix||"tangram-"+l.uiType.toLowerCase();for(d in baidu.ui.behavior){if(typeof l[d]!="undefined"&&l[d]){baidu.object.extend(l,baidu.ui.behavior[d]);if(baidu.lang.isFunction(l[d])){l.addEventListener("onload",function(){baidu.ui.behavior[d].call(l[d].apply(l))})}else{baidu.ui.behavior[d].call(l)}}}c.apply(l,arguments);for(d=0,b=h._addons.length;d<b;d++){h._addons[d](l)}if(k.parent&&l.setParent){l.setParent(k.parent)}if(!i&&k.autoRender){l.render(k.element)}},a=function(){};a.prototype=g.prototype;var e=h.prototype=new a();for(d in baidu.ui.Base){e[d]=baidu.ui.Base[d]}h.extend=function(i){for(d in i){h.prototype[d]=i[d]}return h};h._addons=[];h.register=function(i){if(typeof i=="function"){h._addons.push(i)}};h.options={};return h};baidu.string=baidu.string||{};baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c};baidu.format=baidu.string.format;baidu.event.EventArg=function(c,e){e=e||window;c=c||e.event;var d=e.document;this.target=(c.target)||c.srcElement;this.keyCode=c.which||c.keyCode;for(var a in c){var b=c[a];if("function"!=typeof b){this[a]=b}}if(!this.pageX&&this.pageX!==0){this.pageX=(c.clientX||0)+(d.documentElement.scrollLeft||d.body.scrollLeft);this.pageY=(c.clientY||0)+(d.documentElement.scrollTop||d.body.scrollTop)}this._event=c};baidu.event.EventArg.prototype.preventDefault=function(){if(this._event.preventDefault){this._event.preventDefault()}else{this._event.returnValue=false}return this};baidu.event.EventArg.prototype.stopPropagation=function(){if(this._event.stopPropagation){this._event.stopPropagation()}else{this._event.cancelBubble=true}return this};baidu.event.EventArg.prototype.stop=function(){return this.stopPropagation().preventDefault()};baidu.event.get=function(a,b){return new baidu.event.EventArg(a,b)};baidu.object.each=function(e,c){var b,a,d;if("function"==typeof c){for(a in e){if(e.hasOwnProperty(a)){d=e[a];b=c.call(e,d,a);if(b===false){break}}}}return e};baidu.array=baidu.array||{};baidu.each=baidu.array.forEach=baidu.array.each=function(g,e,b){var d,f,c,a=g.length;if("function"==typeof e){for(c=0;c<a;c++){f=g[c];d=e.call(b||g,f,c);if(d===false){break}}}return g};baidu.ui.Pager=baidu.ui.createUI(function(a){this._init.apply(this,arguments)}).extend({uiType:"pager",id:"pager",tplHref:"##{page}",tplLabel:"[#{page}]",specialLabelMap:{first:"首页",last:"尾页",previous:"上一页",next:"下一页"},tplCurrentLabel:"#{page}",tplItem:'<a class="#{class}" page="#{page}" target="_self" href="#{href}">#{label}</a>',tplBody:'<div onclick="#{onclick}" id="#{id}" class="#{class}">#{items}</div>',beginPage:1,endPage:100,itemCount:10,leftItemCount:4,_init:function(a){var b=this;b.update()},update:function(a){var b=this;a=a||{};if(b.checkOptions(a)){if(a.hasOwnProperty("currentPage")&&a.currentPage!=b.currentPage){if(!b._notifyGotoPage(a.currentPage,false)){delete a.currentPage}}b._updateNoCheck(a);return true}return false},_updateNoCheck:function(a){var b=this;baidu.object.extend(b,a);if(b.getMain()){b._refresh()}},checkOptions:function(b){var d=this;var c=b.beginPage||d.beginPage;var a=b.endPage||d.endPage;if(a<=c){return false}if(b.hasOwnProperty("beginPage")&&d.currentPage<c){d.currentPage=c}if(b.hasOwnProperty("endPage")&&d.currentPage>=a){d.currentPage=a-1}var e=b.currentPage||d.currentPage;if(e<c||e>=a){return false}return true},_genItem:function(c,a){var b=this;return baidu.string.format(b.tplItem,{"class":a?b.getClass(a):"",page:c,href:baidu.string.format(b.tplHref,{page:c}),label:function(){return(a?(a=="current"?baidu.string.format(b.tplCurrentLabel,{page:c}):b.specialLabelMap[a]):baidu.string.format(b.tplLabel,{page:c}))}})},_genBody:function(){var h=this;var a=h.beginPage;var c=h.endPage;var f=h.currentPage;var k=Math.min(c-a,h.itemCount);var j=Math.min(f-a,h.leftItemCount);j=Math.max(k-(c-f),j);var e=f-j;var b={first:a,last:c-1,previous:f-1,next:f+1};var l={};baidu.object.each(b,function(n,i){l[i]=h._genItem(n,i)});l.previous=b.previous<a?"":l.previous;l.next=b.next>=c?"":l.next;l.first=e==a?"":l.first;l.last=e+k>=c-1?"":l.last;var m=[];for(var d=0;d<k;d++){var g=e+d;m[d]=h._genItem(g,g==f?"current":null)}return baidu.string.format(h.tplBody,{id:h.getId(),"class":h.getClass(),items:l.first+l.previous+m.join("")+l.next+l.last,onclick:h.getCallRef()+"._handleOnClick(event, this);"})},_refresh:function(){var a=this;a.getMain().innerHTML=a.getString()},_handleOnClick:function(a){a=baidu.event.get(a);var c=this,b=a.target,d=Number(b.getAttribute("page"));if(d&&c._notifyGotoPage(d,true)){c._updateNoCheck({currentPage:d})}else{a.preventDefault()}},_notifyGotoPage:function(a,b){return this.dispatchEvent("ongotopage",{page:a,fromClick:b})},ongotopage:function(a){},getString:function(){var a=this;if(a.currentPage===undefined){a.currentPage=a.beginPage}return a._genBody()},render:function(a){var b=this;b.renderMain(a);b.getMain().innerHTML=b.getString();b.update();b.dispatchEvent("onload")},dispose:function(){var c=this;c.dispatchEvent("ondispose");if(c.getMain()){var a=c.getMain();baidu.event.un(a,"click",c._handleOnClick);if(a.parentNode&&a.parentNode.nodeType==1){a.parentNode.removeChild(a)}c.dispose=null;a=null;baidu.lang.Class.prototype.dispose.call(c)}else{c.addEventListener("onload",function b(){c.removeEventListener("onload",b);c.dispose()})}}});